###############################################################################
# KubeNova .env template â€” copy to ".env" (single source of truth)            #
###############################################################################
# The manager refuses to start without DATABASE_URL. Compose reads only from
# this file; no inline defaults exist in compose YAML.

############################
# Core runtime
############################
# PostgreSQL connection string
DATABASE_URL=postgres://kubenova:kubenova@127.0.0.1:5432/kubenova?sslmode=disable
# Enable JWT auth for API calls (set true outside of local dev)
KUBENOVA_REQUIRE_AUTH=false
# HS256 signing key (required when auth is enabled)
JWT_SIGNING_KEY=change-me-super-secret
# Manager URL reachable by operators (used for heartbeats/bootstrap)
MANAGER_URL=http://localhost:8080
# Capsule Proxy API base URL for publishing tenant endpoints (optional)
PROXY_API_URL=
# Operator heartbeat interval (seconds)
BATCH_INTERVAL_SECONDS=10
# Component reconcile cadence (seconds) for operator periodic installs
COMPONENT_RECONCILE_SECONDS=300
# Telemetry metadata
KUBENOVA_ENV=dev
KUBENOVA_VERSION=v0.1.2

############################
# Observability (OpenTelemetry)
############################
# OTLP collector endpoint (e.g., http://localhost:4317)
OTEL_EXPORTER_OTLP_ENDPOINT=
# Set true for http:// endpoints
OTEL_EXPORTER_OTLP_INSECURE=true
# Optional comma-separated attributes (service.namespace=control-plane,team=platform)
OTEL_RESOURCE_ATTRIBUTES=

############################
# Bootstrap / addon sources
############################
# Use baked charts (default /charts) or remote repos when set to true
HELM_USE_REMOTE=true
# Optional: override charts directory if baked charts are mounted elsewhere
HELM_CHARTS_DIR=/charts

# Version overrides (defaults baked into operator image)
#CERT_MANAGER_VERSION=v1.14.4
#CAPSULE_VERSION=0.10.6
#CAPSULE_PROXY_VERSION=0.9.13
#VELA_VERSION=1.10.4
#FLUXCD_VERSION=2.12.2
#VELAUX_VERSION=v1.10.6
#VELA_CLI_VERSION=1.10.5

# Optional component repo overrides
#VELAUX_REPO=oci://ghcr.io/kubevela/velaux
#FLUXCD_REPO=https://fluxcd-community.github.io/helm-charts
#OPERATOR_REPO=oci://ghcr.io/vaheed/kubenova/charts/operator

# Toggle installs (set false to skip)
#BOOTSTRAP_CERT_MANAGER=true
#BOOTSTRAP_CAPSULE=true
#BOOTSTRAP_CAPSULE_PROXY=true
#BOOTSTRAP_KUBEVELA=true
#BOOTSTRAP_FLUXCD=true
#BOOTSTRAP_VELAUX=true

############################
# Network / proxy
############################
#HTTP_PROXY=http://proxy.internal:3128
#HTTPS_PROXY=http://proxy.internal:3128
#NO_PROXY=localhost,127.0.0.1

############################
# Test helpers (live E2E)
############################
# Base URL for live API test (see docs/operations/kind-e2e.md)
#KUBENOVA_E2E_BASE_URL=http://localhost:8080
#KUBENOVA_E2E_KUBECONFIG=kind/config
#KUBENOVA_E2E_KUBECONFIG_B64=
#KUBENOVA_E2E_TOKEN=
#RUN_LIVE_E2E=0
