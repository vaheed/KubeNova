###############################################################################
# KubeNova .env template (production‑ready) — copy to ".env"                  #
###############################################################################
# This file lists every Manager runtime variable with purpose, valid values,
# and examples. Provide real values for your environment before deploying.

############################
# Core (Manager runtime)
############################
# DATABASE_URL (REQUIRED): PostgreSQL connection string used by the Manager
#   Format: postgres://USER:PASSWORD@HOST:PORT/DB?sslmode=require
#   Example: postgres://kubenova:STRONG-PASSWORD@db.example.com:5432/kubenova?sslmode=require
DATABASE_URL=postgres://kubenova:kubenova@127.0.0.1:5432/kubenova?sslmode=disable

# KUBENOVA_REQUIRE_AUTH: enable JWT auth for API calls (RECOMMENDED: true)
#   Valid: true|false
KUBENOVA_REQUIRE_AUTH=true

# KUBENOVA_DEFAULT_TENANT_PLAN: default plan name applied on tenant creation
#   when no explicit plan is provided and the catalog contains a matching entry.
#   Example values (from pkg/catalog/plans.json): baseline, gold
KUBENOVA_DEFAULT_TENANT_PLAN=baseline

# JWT_SIGNING_KEY (REQUIRED when auth enabled): HS256 secret used to issue/verify tokens
#   Generate: openssl rand -base64 32
JWT_SIGNING_KEY=

############################
# (Optional) Local/Postgres container variables (for docker‑compose only)
############################
# Uncomment only if you run the bundled Postgres container via docker‑compose.
# POSTGRES_USER=
# POSTGRES_PASSWORD=
# POSTGRES_DB=
POSTGRES_USER=kubenova
POSTGRES_PASSWORD=kubenova
POSTGRES_DB=kubenova

############################
# K8s/Proxy and Images
############################
# MANAGER_URL_PUBLIC: Manager URL advertised to Agents (ingress / public)
#   Example: https://api.kubenova.example.com
MANAGER_URL_PUBLIC=

# CAPSULE_PROXY_URL: base URL for Capsule proxy
#   Example: https://capsule-proxy.example.com
CAPSULE_PROXY_URL=

# AGENT_IMAGE: container image for the Agent installed on clusters
#   Example: ghcr.io/vaheed/kubenova/agent:latest
AGENT_IMAGE=ghcr.io/vaheed/kubenova/agent:dev

############################
# Telemetry
############################
# OTEL_EXPORTER_OTLP_ENDPOINT: enable OTLP HTTP exporter (e.g., https://otel.example.com:4318)
OTEL_EXPORTER_OTLP_ENDPOINT=
# OTEL_SAMPLING_RATIO: 0..1 sampling ratio (default 1.0)
OTEL_SAMPLING_RATIO=


# Bootstrap pins (Agent reads and passes into the Helm bootstrap job)
# Override these to control add-on versions deployed by the Agent.
CAPSULE_VERSION=0.10.6
CAPSULE_PROXY_VERSION=0.9.13
# Leave empty to use the chart's latest compatible version.
VELA_CORE_VERSION=1.10

# Agent telemetry batching (applied to in-cluster Agent Deployment)
BATCH_INTERVAL_SECONDS=60

############################
# Misc
############################
# LOG_LEVEL can be used by loggers (error|warn|info|debug)
LOG_LEVEL=info
