<svg xmlns="http://www.w3.org/2000/svg" width="980" height="300">
  <text x="20" y="24">Health Check Timing & Error Paths</text>
  <rect x="20" y="40" width="940" height="240" fill="#fff" stroke="#ccc"/>
  <text x="40" y="80">T0: Agent install started → wait for Deployment ReadyReplicas ≥ 2 (timeout 10m)</text>
  <text x="40" y="110">T1: HPA present (autoscaling/v2) → else retry/backoff</text>
  <text x="40" y="140">T2: Capsule controller and capsule-proxy Ready → else report AddonsReady=False</text>
  <text x="40" y="170">T3: KubeVela controllers Ready + CRDs served → AddonsReady=True</text>
  <text x="40" y="200">Errors: network failures, Helm repo fetch errors, CRD conflicts → retry with jitter; surfaced in /api/v1/clusters/{id}</text>
  <text x="40" y="230">Manager persists condition snapshots and provides last events via /api/v1/clusters/{id}/events</text>
</svg>
